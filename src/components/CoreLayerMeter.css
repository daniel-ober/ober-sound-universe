/* src/components/CoreLayerMeter.css */

.core-layer-meter {
  width: 100%;
  margin: 6px 0 6px;
}

.core-layer-meter-rail {
  position: relative;
  height: 8px;
  border-radius: 999px;
  overflow: hidden;

  background: linear-gradient(
    180deg,
    rgba(12, 16, 30, 0.92),
    rgba(6, 9, 18, 0.96)
  );

  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    inset 0 0 0 1px rgba(0, 0, 0, 0.55),
    0 10px 26px rgba(0, 0, 0, 0.55);
}

/* smooth RMS bar */
.core-layer-meter-fill {
  width: 100%;
  height: 100%;
  transform-origin: left;
  border-radius: inherit;
  opacity: 0.95;
  filter: saturate(1.05);
}

/* peak marker */
.core-layer-meter-peak {
  position: absolute;
  top: -3px;
  width: 2px;
  height: 14px;
  transform: translateX(-1px);
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.78);
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.65),
    0 0 10px rgba(180, 220, 255, 0.55);
  opacity: 0.85;
}

/* subtle gloss */
.core-layer-meter-gloss {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.10),
    rgba(255, 255, 255, 0.02) 35%,
    rgba(0, 0, 0, 0.18)
  );
  mix-blend-mode: soft-light;
  pointer-events: none;
}

/* =========================
   THEME VARIANTS (match strips)
   ========================= */

.core-layer-meter--ground .core-layer-meter-fill {
  background: linear-gradient(90deg, #ff9d4d 0%, #ffc56e 50%, #ffe2aa 100%);
  box-shadow: 0 0 14px rgba(255, 180, 110, 0.35);
}

.core-layer-meter--harmony .core-layer-meter-fill {
  background: linear-gradient(90deg, #7ddaff 0%, #63b4ff 50%, #4a8dff 100%);
  box-shadow: 0 0 14px rgba(120, 200, 255, 0.30);
}

.core-layer-meter--atmosphere .core-layer-meter-fill {
  background: linear-gradient(90deg, #9f7dff 0%, #c280ff 45%, #ff98e6 100%);
  box-shadow: 0 0 14px rgba(200, 150, 255, 0.30);
}

.core-layer-meter--neutral .core-layer-meter-fill {
  background: linear-gradient(90deg, #38bdf8, #6366f1, #a855f7);
  box-shadow: 0 0 14px rgba(120, 170, 255, 0.28);
}

/* slightly slimmer on tiny screens */
@media (max-width: 720px) {
  .core-layer-meter-rail {
    height: 7px;
  }
}